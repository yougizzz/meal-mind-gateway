server:
  port: 8081

spring:
  application:
    name: gateway-service

  cloud:
    gateway:
      # Routes are defined in RouteConfig.java

  redis:
    host: redis
    port: 6379

  data:
    redis:
      repositories:
        enabled: false

management:
  endpoints:
    web:
      exposure:
        include: "*"  # Expose all endpoints for debugging
  endpoint:
    gateway:
      enabled: true
    health:
      enabled: true
  tracing:
    sampling:
      probability: 1.0

jwt:
  secret: ${JWT_SECRET:a55d7204-d46e-4650-8813-008153c46187-mealmind-secret-key-for-development}

gateway:
  rate-limit:
    window-seconds: 60

logging:
  level:
    com.mealmind.gateway: ${LOG_LEVEL:INFO}
    org.springframework.security: INFO
    org.hibernate.SQL: INFO
    org.hibernate.type.descriptor.sql.BasicBinder: INFO
  pattern:
    console: "%clr(%d{yyyy-MM-dd HH:mm:ss}){faint} %clr([%thread]){magenta} %clr(%-5level){green} %clr(%logger{36}){cyan} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
  file:
    name: logs/mealmind-gateway.log
    max-size: 100MB
    max-history: 30

